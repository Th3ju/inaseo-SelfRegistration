<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription Tournoi</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <h1>Inscription au Tournoi</h1>

    <p id="tournament-name" style="text-align: center; color: #667eea; font-size: 18px; font-weight: bold; margin-top: -20px; margin-bottom: 30px;"></p>
        
        <!-- Indicateur de progression -->
        <div class="progress-bar">
            <div class="progress-step active" data-step="1">1. Licence</div>
            <div class="progress-step" data-step="2">2. Division</div>
            <div class="progress-step" data-step="3">3. Catégorie</div>
            <div class="progress-step" data-step="4">4. Départs</div>
            <div class="progress-step" data-step="5">5. Blasons</div>
            <div class="progress-step" data-step="6">6. Confirmation</div>
        </div>

        <!-- Message d'erreur global -->
        <div id="error-message" class="error-message" style="display:none;"></div>
        
        <!-- Message de succès -->
        <div id="success-message" class="success-message" style="display:none;"></div>

        <!-- Loader -->
        <div id="loading" class="loading" style="display:none;">
            <div class="spinner"></div>
            <p>Chargement...</p>
        </div>

        <form id="registration-form">
            

<!-- Étape 1: Licence -->
<div id="step-1" class="form-step active">
    <h2>1. Recherche de licence</h2>
    <div class="form-group">
        <label for="license">Numéro de licence FFTA *</label>
        <input type="text" id="license" class="form-control" placeholder="Ex: 123456A" required>
    </div>
    <div class="form-group">
        <label for="lastname">Nom de famille *</label>
        <input type="text" id="lastname" class="form-control" placeholder="Votre nom" required>
    </div>
    <button type="button" class="btn-primary" onclick="nextStep(1)">Suivant</button>
</div>

            <!-- Étape 2: Informations archer (auto-remplies) -->
            <div id="step-2" class="form-step">
                <h2>2. Vos informations</h2>
                <div class="info-box">
                    <p><strong>Nom :</strong> <span id="info-name"></span></p>
                    <p><strong>Prénom :</strong> <span id="info-firstname"></span></p>
                    <p><strong>Date de naissance :</strong> <span id="info-dob"></span></p>
                    <p><strong>Sexe :</strong> <span id="info-sex"></span></p>
                    <p><strong>Club :</strong> <span id="info-club"></span></p>
                </div>
                
                <div class="form-group">
                    <label for="division">Division *</label>
                    <select id="division" class="form-control" required>
                        <option value="">-- Choisir une division --</option>
                    </select>
                </div>
                
                <button type="button" class="btn-secondary" onclick="prevStep(2)">Retour</button>
                <button type="button" class="btn-primary" onclick="nextStep(2)">Suivant</button>
            </div>

            <!-- Étape 3: Catégorie d'âge -->
            <div id="step-3" class="form-step">
                <h2>3. Catégorie</h2>
                <div class="form-group">
                    <label for="ageclass">Catégorie d'âge *</label>
                    <select id="ageclass" class="form-control" required>
                        <option value="">-- Choisir une catégorie --</option>
                    </select>
                </div>
                <button type="button" class="btn-secondary" onclick="prevStep(3)">Retour</button>
                <button type="button" class="btn-primary" onclick="nextStep(3)">Suivant</button>
            </div>

            <!-- Étape 4: Départs -->
            <div id="step-4" class="form-step">
                <h2>4. Choix des départs</h2>
                <p class="info-text">Sélectionnez le(s) départ(s) auquel vous souhaitez participer</p>
                <div id="sessions-container"></div>
                <button type="button" class="btn-secondary" onclick="prevStep(4)">Retour</button>
                <button type="button" class="btn-primary" onclick="nextStep(4)">Suivant</button>
            </div>

            <!-- Étape 5: Blasons par départ -->
            <div id="step-5" class="form-step">
                <h2>5. Choix des blasons</h2>
                <p class="info-text">Sélectionnez le type de blason pour chaque départ</p>
                <div id="targetface-container"></div>
                <button type="button" class="btn-secondary" onclick="prevStep(5)">Retour</button>
                <button type="button" class="btn-primary" onclick="nextStep(5)">Suivant</button>
            </div>

            <!-- Étape 6: Récapitulatif et confirmation -->
            <div id="step-6" class="form-step">
                <h2>6. Récapitulatif</h2>
                <div class="info-box" id="summary-content"></div>
                <button type="button" class="btn-secondary" onclick="prevStep(6)">Retour</button>
                <button type="button" class="btn-primary" onclick="submitRegistration()">Confirmer l'inscription</button>
            </div>

        </form>
    </div>

    <script>
        const TOURNAMENT_ID = 124; // À modifier selon votre tournoi
    </script>
    <script src="js/script.js"></script>
</body>
</html>

